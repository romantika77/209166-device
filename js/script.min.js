var link=document.querySelector(".contacts__btn"),popupFeedback=document.querySelector(".modal-feedback"),closeFeedback=popupFeedback.querySelector(".btn-close"),fullname=popupFeedback.querySelector("[name=fullname]"),form=popupFeedback.querySelector("form"),email=popupFeedback.querySelector("[name=email]"),storage=localStorage.getItem("fullname"),mapOpen=document.querySelector(".js-open-map"),mapPopup=document.querySelector(".modal-map"),mapClose=document.querySelector(".js-map-close");mapOpen.addEventListener("click",function(e){e.preventDefault(),mapPopup.classList.add("modal-map-show")}),mapClose.addEventListener("click",function(e){e.preventDefault(),mapPopup.classList.remove("modal-map-show")}),link.addEventListener("click",function(e){e.preventDefault(),popupFeedback.classList.add("modal-feedback-show"),storage?(fullname.value=storage,email.focus()):fullname.focus()}),closeFeedback.addEventListener("click",function(e){e.preventDefault(),popupFeedback.classList.remove("modal-feedback-show"),popupFeedback.classList.remove(".modal-feedback-error")}),form.addEventListener("submit",function(e){fullname.value&&email.value?localStorage.setItem("fullname",fullname.value):(e.preventDefault(),popupFeedback.classList.remove("modal-feedback-error"),popupFeedback.offsetWidth=popupFeedback.offsetWidth,popupFeedback.classList.add("modal-feedback-error"))}),window.addEventListener("keydown",function(e){27===e.keyCode&&popupFeedback.classList.contains("modal-feedback-show")&&(popupFeedback.classList.remove("modal-feedback-show"),popupFeedback.classList.remove(".modal-feedback-error"))}),window.addEventListener("keydown",function(e){27===e.keyCode&&mapPopup.classList.contains("modal-map-show")&&mapPopup.classList.remove("modal-map-show")});